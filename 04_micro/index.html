<!DOCTYPE html>
<html lang="en">

<title>PS70: Introduction to Digital Fabrication </title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../style.css" rel="stylesheet">


<nav class="navbar navbar-expand-sm navbar-light bg-light">
  <div style="align-items: left; justify-content:left;" class="container-fluid">
    <h3 class="nav-title"> PS70: Intro to Digital Fabrication</h3>
    <div class="navbar-nav">
      <h4></h4>
      <h4><a class="nav-link" href="../index.html">Home</a></h4>
      <h4><a class="nav-link" href="../about.html">About</a></h4>
      <h4><a class="nav-link" href="./01_intro/index.html">Final Project</a></h4>
    </div>
  </div>
</nav>

<body>


<xmp style="display:none;">
<br> 

#### Week 4: Microcontroller Programming 

I set out to write an Arduino code that would control a servo motor. The servo motor is to behave as a drummer's stick, playing various rhythms. I made sure to write the code in such a way that the tempo can be easily changed without the need for time consuming changes to the code. 

This is the rhythm in western notation:

<img src="../images/wnrumba.png" alt="rumba clave" width="1580" height="268">

This is a key showing the sub-divisions of the beat and a representation of the rumba clave in milliseconds:

<img src="../images/rumbamath.png" alt="rumba math" width="719" height="290">

<code>#include <Servo.h>

int x=30; //TEMPO <br>
float m=60/x*1000; <br>
float qn=m/4; //quarter note<br>
float en=m/8; //eighth note<br>
float sn=m/16; //sixteenth note<br>
float tsn=m/32; //thirty secondth note<br>

float den=m/16*3; //dotted sixteenth note<br>
int servoPin=4;<br>
int servoU=45;<br>
int servoD=0;<br>
Servo myServo;<br>

void setup() {<br>
  // put your setup code here, to run once:<br>
  Serial.begin(9600);<br>
myServo.attach(servoPin);<br>
}<br>
<br>
void loop() {<br>
  // put your main code here, to run repeatedly:<br>
<br>
myServo.write(servoD);<br>
delay(sn);<br>
myServo.write(servoU);<br>
delay(en);<br>
myServo.write(servoD);<br>
delay(sn);<br>
myServo.write(servoU);<br>
delay(den);<br>
myServo.write(servoD);<br>
delay(sn);<br>
myServo.write(servoU);<br>
delay(en);<br>
myServo.write(servoD);<br>
delay(sn);<br>
myServo.write(servoU);<br>
delay(sn);<br>
myServo.write(servoD);<br>
delay(sn);<br>
myServo.write(servoU);<br>
delay(den);<br>
}</code>


</xmp>
</body>

<script src="../strapdown.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>

</html>